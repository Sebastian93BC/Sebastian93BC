[
    {
      "$limit": 1
    }, {
      "$project": {
        "date": "{{$json.date}}",
        "processDate": {
          "$substr": [
            {
              "$toString": {
                "$dateTrunc": {
                  "date": {
                    "$subtract": [
                      {
                        "$toDate": "{{$json.date}}"
                      }, {
                        "$multiply": [
                          {
                            "$toInt": "{{$json.offSet}}" 
                          }, 86400000
                        ]
                      }
                    ]
                  }, 
                  "unit": "day"
                }
              }
            }, 0, 10
          ]
        }, 
        "offSet": "{{$json.offSet}}", 
        "processName": "{{$json.processName}}", 
        "operationNumber": {
          "$toString": {
            "$toDecimal": "$$NOW"
          }
        }, 
        "_id": 0
      }
    }
  ]